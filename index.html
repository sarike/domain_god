<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>查询域名神器</title>
	<link rel="stylesheet" href="static/css/bootstrap.min.css">

	<style>
		.container{
			text-align: center;
			padding: 30px 0px;
		}
		#domain_input{
			width: 400px;
		}
	</style>
</head>

<body>
	<div class="container">

		<!-- 
		<div class="options">
			<label for="com"><input id="com" type="checkbox" value="com" name="type">com</label>
			<label for="cn"><input id="cn" type="checkbox" value="cn" name="type">cn</label>
			<label for="net"><input id="net" type="checkbox" value="net" name="type">net</label>
			<label for="org"><input id="org" type="checkbox" value="org" name="type">org</label>
		</div>
		<div class="options">
			<label for="digital"><input type="checkbox">数字</label>
			<label for="letter">字母</label>
		</div> -->
		<form class="form-inline">
		  <div class="form-group">
		    <input type="text" class="form-control" id="domain_input">
		  </div>
		  <button id="check" class="btn btn-primary">GO !</button>
		</form>

		<div class="result-container"></div>
	</div>

<script src="static/js/jquery-1.10.1.min.js" type="text/javascript"></script>
<script src="static/js/bootstrap.min.js" type="text/javascript"></script>
<script src="static/js/wheel.js" type="text/javascript"></script>
<script src="static/js/recursion.js" type="text/javascript"></script>
<script>

$(function(){
	var check_domain = function (domain) {
		var check_url = 'http://pandavip.www.net.cn/check/check_ac1.cgi'
		$.get(check_url, {domain: domain}, function(res){
			var res_arr = res.split('|'),
				type = res_arr[0],
				domain = res_arr[1],
				status = res_arr[2],
				info = res_arr[3];
			$('.result-container').append($('<div/>').html(domain + ' : '+status+' : ' + info));
		}, 'jsonp');
	};

	$('#check').click(function(e){
		e.preventDefault();
		var pattern = $('#domain_input').val();
		var maybe_list = domain_gen_pre(pattern);
		var domain_types = ['.com', '.net', '.cn', '.org'];
		WheelContainer.init(maybe_list);
		console.info(WheelContainer.wheels)
		WheelContainer.wheels[0].on_step=function () {
			console.info(WheelContainer.value());
			// for (var i = 0; i < domain_types.length; i++) {
			// 	// check_domain(WheelContainer.value() + domain_types[i]);
			// 	console.info(WheelContainer.value());
			// 	// $('.result-container').append($('<div/>').html(WheelContainer.value() + domain_types[i]));
			// };
		}
		WheelContainer.go();
	});


});
	
</script>
</body>
</html>